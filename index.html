<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 添加 viewport 元態標籤 -->
    <title>Title</title>
    <style>
        /* 修改 div 樣式以填滿整個視窗 */
        #main {
            position: fixed; /* 使用 fixed 位置 */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: black;
            overflow: hidden; /* 防止內容超出時出現滾動條 */
        }
    </style>
</head>
<body>
        <div id="main"></div>
 <script>
    //==========鼠标星球尾巴JS代码============

    //========函数:获取当前鼠标的坐标=========
     function getMousePosition(event) {
         var x = 0;//x坐标
         var y = 0;//y坐标
         //documentElement 返回一个文档的文档元素。
         doc = document.documentElement;
         //body 返回文档的body元素
         body = document.body;
         //解决兼容性
         if (!event) event = window.event;
         //解决鼠标滚轮滚动后与相对坐标的差值
         //pageYoffset是Netscape特有
         if (window.pageYoffset) {
             x = window.pageXOffset;
             y = window.pageYOffset;
         } else {//其他浏览器鼠标滚动
             x = (doc && doc.scrollLeft || body && body.scrollLeft || 0)
                 - (doc && doc.clientLeft || body && body.clientLeft || 0);
             y = (doc && doc.scrollTop || body && body.scrollTop || 0)
                 - (doc && doc.clientTop || body && body.clientTop || 0);
         }
         //得到的x加上当事件被触发时鼠标指针向对于浏览器页面（或客户区）的水平坐标
         x += event.clientX;
         //得到的x加上当事件被触发时鼠标指针向对于浏览器页面（或客户区）的垂直坐标
         y += event.clientY;
         //返回x和y
         return {'x': x, 'y': y};
     }
     //========函数:获取当前鼠标的坐标=========

     //=====生成从minNum到maxNum的随机数=====
    function randomNum(minNum,maxNum){
        switch(arguments.length){
            case 1:
                return parseInt(Math.random()*minNum+1,10);
            case 2:
                return parseInt(Math.random()*(maxNum-minNum+1)+minNum,10);
            default:
                return 0;
        }
    }
    //=====生成从minNum到maxNum的随机数======

    document.addEventListener('touchmove', function(event) {
        event.preventDefault(); // 防止預設的滾動行為
    
        // 獲取觸摸點的位置
        var touch = event.touches[0] || event.changedTouches[0];
        var x = touch.pageX;
        var y = touch.pageY;
    
        createTail(x, y); // 創建尾巴效果的函數
    }, { passive: false });

    //======给整个文档绑定一个鼠标移动事件======
    document.onmousemove = function(event){
        var x = event.clientX;
        var y = event.clientY;
    
        createTail(x, y);
    }

    function createTail(x, y) {
        var styleImg = document.createElement("div");
        var r = randomNum(1,5);
        // ... 其他代碼保持不變 ...
    
        styleImg.style.position = 'absolute';
        styleImg.style.top = y + "px";
        styleImg.style.left = x + "px";
    
        var testDiv = document.getElementById("main");
        testDiv.appendChild(styleImg);
        testDiv.style.overflow = 'hidden';
    
        var count = 0;
        var time = setInterval(function(){
            count += 5;
            styleImg.style.opacity = (100-count)/100;
        }, 30);
    
        setTimeout(function(){
            clearInterval(time);
            testDiv.removeChild(styleImg);
        },250);
    }
    </script>
</body>
</html>
